{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/persons.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","text","newFilter","handleFilterChange","value","onChange","PersonForm","onSubmit","newName","newNumber","handleNameChange","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonDetails","person","handleDelete","name","number","onClick","Persons","filterPersons","persons","map","Notification","message","includes","className","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","setMessage","useEffect","personService","personList","console","log","filter","toLowerCase","event","target","preventDefault","some","p","personExists","window","confirm","duplicateUser","find","returnedPerson","setTimeout","concat","user","catch","error","location","reload","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb545ae6.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ text, newFilter, handleFilterChange }) => {\n  return (\n    <div>\n      {text} <input value={newFilter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  onSubmit,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deleteResource = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, update, deleteResource };\n","import React from \"react\";\n\nconst PersonDetails = ({ person, handleDelete }) => {\n  return (\n    <div>\n      <span>{person.name}</span>\n      <span>&nbsp; {person.number} &nbsp;</span>\n      <button onClick={() => handleDelete(person.id)}>delete</button>\n    </div>\n  );\n};\n\nconst Persons = ({ newFilter, filterPersons, persons, handleDelete }) => {\n  return (\n    <div>\n      {newFilter\n        ? filterPersons.map((person) => (\n            <PersonDetails\n              key={person.name}\n              person={person}\n              handleDelete={handleDelete}\n            />\n          ))\n        : persons.map((person) => (\n            <PersonDetails\n              key={person.name}\n              person={person}\n              handleDelete={handleDelete}\n            />\n          ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) return null;\n  if (message.includes(\"Added\")) {\n    return <div className=\"add-user\">{message}</div>;\n  } else {\n    return <div className=\"error\">{message}</div>;\n  }\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport personService from \"./services/persons\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  const handleNameChange = (event) => {\n    const target = event.target;\n    setNewName(target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    const target = event.target;\n    setNewNumber(target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    const target = event.target;\n    setNewFilter(target.value);\n  };\n\n  function personExists(person) {\n    return persons.some((p) => p.name === person.name);\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const person = {\n      name: newName,\n      number: newNumber,\n    };\n    if (personExists(person)) {\n      if (\n        window.confirm(\n          `${person.name} is already added to phonebook, replace the old number with a new one`\n        )\n      ) {\n        const duplicateUser = persons.find((p) => p.name === person.name);\n        personService\n          .update(duplicateUser.id, person)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((p) =>\n                p.id !== duplicateUser.id ? p : returnedPerson\n              )\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setMessage(\n              `${returnedPerson.name}'s number was change to ${returnedPerson.number}`\n            );\n            setTimeout(() => {\n              setMessage(null);\n            }, 3000);\n          });\n        console.log(persons);\n      }\n      return false;\n    }\n    personService.create(person).then((person) => {\n      console.log(person);\n      setPersons(persons.concat(person));\n      setNewName(\"\");\n      setNewNumber(\"\");\n      setMessage(`Added ${person.name}`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 3000);\n    });\n  };\n\n  const hook = () => {\n    personService.getAll().then((personList) => {\n      console.log(\"Promise fulfilled\");\n      setPersons(personList);\n    });\n  };\n\n  useEffect(hook, []);\n\n  const filterPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(newFilter.toLowerCase())\n  );\n\n  const handleDelete = (id) => {\n    const user = persons.find((p) => p.id === id);\n    console.log(\"id-ul userului este\", user.id);\n    if (window.confirm(`Delete ${user.name}`)) {\n      personService\n        .deleteResource(id)\n        .then(() => {\n          console.log(\"user with id \", id, \"deleted\");\n          setPersons(persons.filter((p) => p.id !== id));\n        })\n        .catch((error) => {\n          setMessage(\n            `Information of ${user.name} has already been removed from the server`\n          );\n          setTimeout(() => {\n            setMessage(null);\n            window.location.reload();\n          }, 3000);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter\n        text=\"filter shown with\"\n        newFilter={newFilter}\n        handleFilterChange={handleFilterChange}\n      />\n\n      <h2>add a new</h2>\n      <PersonForm\n        onSubmit={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons\n        newFilter={newFilter}\n        filterPersons={filterPersons}\n        persons={persons}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}